"use strict";(self.webpackChunksmartcrm=self.webpackChunksmartcrm||[]).push([[13],{3990:(e,t,n)=>{n.d(t,{Z:()=>F});var r=n(7462),i=n(4942),a=n(1002),u=n(9439),c=n(4925),o=n(7294),s=n(4184),l=n.n(s),f=n(5105),v=n(2550),d=n(5671),m=n(3144);function g(){return"function"==typeof BigInt}function h(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),a=i[0]||"0",u=i[1]||"0";"0"===a&&"0"===u&&(n=!1);var c=n?"-":"";return{negative:n,negativeStr:c,trimStr:r,integerStr:a,decimalStr:u,fullStr:"".concat(c).concat(r)}}function N(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function p(e){var t=String(e);if(N(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return(null==r?void 0:r[1])&&(n+=r[1].length),n}return t.includes(".")&&b(t)?t.length-t.indexOf(".")-1:0}function S(e){var t=String(e);if(N(e)){if(e>Number.MAX_SAFE_INTEGER)return String(g()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(g()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(p(t))}return h(t).fullStr}function b(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var E=function(){function e(t){(0,d.Z)(this,e),this.origin="",this.number=void 0,this.empty=void 0,(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return(0,m.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var i=Math.max(p(this.number),p(n));return new e(r.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null==e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":S(this.number):this.origin}}]),e}(),y=function(){function e(t){if((0,d.Z)(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(N(n)&&(n=Number(n)),b(n="string"==typeof n?n:S(n))){var r=h(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var a=i[1]||"0";this.decimal=BigInt(a),this.decimalLen=a.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return(0,m.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),i=h((this.alignDecimal(r)+n.alignDecimal(r)).toString()),a=i.negativeStr,u=i.trimStr,c="".concat(a).concat(u.padStart(r+1,"0"));return new e("".concat(c.slice(0,-r),".").concat(c.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null==e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":h("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function I(e){return g()?new y(e):new E(e)}function k(e,t,n){if(""===e)return"";var r=h(e),i=r.negativeStr,a=r.integerStr,u=r.decimalStr,c="".concat(t).concat(u),o="".concat(i).concat(a);if(n>=0){var s=Number(u[n]);return s>=5?k(I(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-s)).toString(),t,n):0===n?o:"".concat(o).concat(t).concat(u.padEnd(n,"0").slice(0,n))}return".0"===c?o:"".concat(o).concat(c)}var w=n(1131);function Z(e){var t=e.prefixCls,n=e.upNode,a=e.downNode,u=e.upDisabled,c=e.downDisabled,s=e.onStep,f=o.useRef(),v=o.useRef();v.current=s;var d=function(e,t){e.preventDefault(),v.current(t),f.current=setTimeout((function e(){v.current(t),f.current=setTimeout(e,200)}),600)},m=function(){clearTimeout(f.current)};if(o.useEffect((function(){return m}),[]),(0,w.Z)())return null;var g="".concat(t,"-handler"),h=l()(g,"".concat(g,"-up"),(0,i.Z)({},"".concat(g,"-up-disabled"),u)),N=l()(g,"".concat(g,"-down"),(0,i.Z)({},"".concat(g,"-down-disabled"),c)),p={unselectable:"on",role:"button",onMouseUp:m,onMouseLeave:m};return o.createElement("div",{className:"".concat(g,"-wrap")},o.createElement("span",(0,r.Z)({},p,{onMouseDown:function(e){d(e,!0)},"aria-label":"Increase Value","aria-disabled":u,className:h}),n||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),o.createElement("span",(0,r.Z)({},p,{onMouseDown:function(e){d(e,!1)},"aria-label":"Decrease Value","aria-disabled":c,className:N}),a||o.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var M=n(334);var x=(0,n(8924).Z)()?o.useLayoutEffect:o.useEffect;function R(e,t){var n=o.useRef(!1);x((function(){if(n.current)return e();n.current=!0}),t)}var D=n(5164);var T=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],_=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},C=function(e){var t=I(e);return t.isInvalidate()?null:t},A=o.forwardRef((function(e,t){var n,s=e.prefixCls,d=void 0===s?"rc-input-number":s,m=e.className,g=e.style,h=e.min,N=e.max,E=e.step,y=void 0===E?1:E,w=e.defaultValue,x=e.value,A=e.disabled,F=e.readOnly,q=e.upHandler,G=e.downHandler,B=e.keyboard,O=e.controls,P=void 0===O||O,$=e.stringMode,L=e.parser,W=e.formatter,H=e.precision,U=e.decimalSeparator,V=e.onChange,X=e.onInput,K=e.onPressEnter,Q=e.onStep,j=(0,c.Z)(e,T),z="".concat(d,"-input"),J=o.useRef(null),Y=o.useState(!1),ee=(0,u.Z)(Y,2),te=ee[0],ne=ee[1],re=o.useRef(!1),ie=o.useRef(!1),ae=o.useState((function(){return I(null!=x?x:w)})),ue=(0,u.Z)(ae,2),ce=ue[0],oe=ue[1];var se=o.useCallback((function(e,t){if(!t)return H>=0?H:Math.max(p(e),p(y))}),[H,y]),le=o.useCallback((function(e){var t=String(e);if(L)return L(t);var n=t;return U&&(n=n.replace(U,".")),n.replace(/[^\w.-]+/g,"")}),[L,U]),fe=o.useRef(""),ve=o.useCallback((function(e,t){if(W)return W(e,{userTyping:t,input:String(fe.current)});var n="number"==typeof e?S(e):e;if(!t){var r=se(n,t);if(b(n)&&(U||r>=0))n=k(n,U||".",r)}return n}),[W,se,U]),de=o.useState((function(){var e=null!=w?w:x;return ce.isInvalidate()&&["string","number"].includes((0,a.Z)(e))?Number.isNaN(e)?"":e:ve(ce.toString(),!1)})),me=(0,u.Z)(de,2),ge=me[0],he=me[1];function Ne(e,t){he(ve(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}fe.current=ge;var pe=o.useMemo((function(){return C(N)}),[N]),Se=o.useMemo((function(){return C(h)}),[h]),be=o.useMemo((function(){return!(!pe||!ce||ce.isInvalidate())&&pe.lessEquals(ce)}),[pe,ce]),Ee=o.useMemo((function(){return!(!Se||!ce||ce.isInvalidate())&&ce.lessEquals(Se)}),[Se,ce]),ye=function(e,t){var n=(0,o.useRef)(null);return[function(){try{var t=e.selectionStart,r=e.selectionEnd,i=e.value,a=i.substring(0,t),u=i.substring(r);n.current={start:t,end:r,value:i,beforeTxt:a,afterTxt:u}}catch(c){}},function(){if(e&&n.current&&t)try{var r=e.value,i=n.current,a=i.beforeTxt,u=i.afterTxt,c=i.start,o=r.length;if(r.endsWith(u))o=r.length-n.current.afterTxt.length;else if(r.startsWith(a))o=a.length;else{var s=a[c-1],l=r.indexOf(s,c-1);-1!==l&&(o=l+1)}e.setSelectionRange(o,o)}catch(f){(0,M.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(f.message))}}]}(J.current,te),Ie=(0,u.Z)(ye,2),ke=Ie[0],we=Ie[1],Ze=function(e){return pe&&!e.lessEquals(pe)?pe:Se&&!Se.lessEquals(e)?Se:null},Me=function(e){return!Ze(e)},xe=function(e,t){var n,r=e,i=Me(r)||r.isEmpty();if(r.isEmpty()||t||(r=Ze(r)||r,i=!0),!F&&!A&&i){var a=r.toString(),u=se(a,t);return u>=0&&(r=I(k(a,".",u))),r.equals(ce)||(n=r,void 0===x&&oe(n),null==V||V(r.isEmpty()?null:_($,r)),void 0===x&&Ne(r,t)),r}return ce},Re=function(){var e=(0,o.useRef)(0),t=function(){D.Z.cancel(e.current)};return(0,o.useEffect)((function(){return t}),[]),function(n){t(),e.current=(0,D.Z)((function(){n()}))}}(),De=function e(t){if(ke(),he(t),!ie.current){var n=I(le(t));n.isNaN()||xe(n,!0)}null==X||X(t),Re((function(){var n=t;L||(n=t.replace(/\u3002/g,".")),n!==t&&e(n)}))},Te=function(e){var t;if(!(e&&be||!e&&Ee)){re.current=!1;var n=I(y);e||(n=n.negate());var r=(ce||I(0)).add(n.toString()),i=xe(r,!1);null==Q||Q(_($,i),{offset:y,type:e?"up":"down"}),null===(t=J.current)||void 0===t||t.focus()}},_e=function(e){var t=I(le(ge)),n=t;n=t.isNaN()?ce:xe(t,e),void 0!==x?Ne(ce,!1):n.isNaN()||Ne(n,!1)};return R((function(){ce.isInvalidate()||Ne(ce,!1)}),[H]),R((function(){var e=I(x);oe(e);var t=I(le(ge));e.equals(t)&&re.current&&!W||Ne(e,re.current)}),[x]),R((function(){W&&we()}),[ge]),o.createElement("div",{className:l()(d,m,(n={},(0,i.Z)(n,"".concat(d,"-focused"),te),(0,i.Z)(n,"".concat(d,"-disabled"),A),(0,i.Z)(n,"".concat(d,"-readonly"),F),(0,i.Z)(n,"".concat(d,"-not-a-number"),ce.isNaN()),(0,i.Z)(n,"".concat(d,"-out-of-range"),!ce.isInvalidate()&&!Me(ce)),n)),style:g,onFocus:function(){ne(!0)},onBlur:function(){_e(!1),ne(!1),re.current=!1},onKeyDown:function(e){var t=e.which;re.current=!0,t===f.Z.ENTER&&(ie.current||(re.current=!1),_e(!1),null==K||K(e)),!1!==B&&!ie.current&&[f.Z.UP,f.Z.DOWN].includes(t)&&(Te(f.Z.UP===t),e.preventDefault())},onKeyUp:function(){re.current=!1},onCompositionStart:function(){ie.current=!0},onCompositionEnd:function(){ie.current=!1,De(J.current.value)}},P&&o.createElement(Z,{prefixCls:d,upNode:q,downNode:G,upDisabled:be,downDisabled:Ee,onStep:Te}),o.createElement("div",{className:"".concat(z,"-wrap")},o.createElement("input",(0,r.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":h,"aria-valuemax":N,"aria-valuenow":ce.isInvalidate()?null:ce.toString(),step:y},j,{ref:(0,v.sQ)(J,t),className:z,value:ge,onChange:function(e){De(e.target.value)},disabled:A,readOnly:F}))))}));A.displayName="InputNumber";const F=A}}]);