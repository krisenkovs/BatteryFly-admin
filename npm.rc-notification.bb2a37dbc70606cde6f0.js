"use strict";(self.webpackChunksmartcrm=self.webpackChunksmartcrm||[]).push([[16],{1784:(e,t,n)=>{n.d(t,{Z:()=>f});var o=n(7462),r=n(4942),a=n(5671),s=n(3144),i=n(9340),c=n(8557),l=n(7294),u=n(3935),p=n(4184),d=n.n(p),f=function(e){(0,i.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,o=n.onClose,r=n.noticeKey;o&&o(r)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.className,s=t.closable,i=t.closeIcon,c=t.style,p=t.onClick,f=t.children,m=t.holder,v="".concat(n,"-notice"),h=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),k=l.createElement("div",(0,o.Z)({className:d()(v,a,(0,r.Z)({},"".concat(v,"-closable"),s)),style:c,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:p},h),l.createElement("div",{className:"".concat(v,"-content")},f),s?l.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(v,"-close")},i||l.createElement("span",{className:"".concat(v,"-close-x")})):null);return m?u.createPortal(k,m):k}}]),n}(l.Component);f.defaultProps={onClose:function(){},duration:1.5}},8287:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var o=n(4925),r=n(7462),a=n(1413),s=n(5671),i=n(3144),c=n(9340),l=n(8557),u=n(7294),p=n(8135),d=n(4184),f=n.n(d),m=n(3441),v=n(1784),h=n(1550),k=["getContainer"],C=0,y=Date.now();function T(){var e=C;return C+=1,"rcNotification_".concat(y,"_").concat(e)}var b=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var o=t.key||T(),r=(0,a.Z)((0,a.Z)({},t),{},{key:o}),s=e.props.maxCount;e.setState((function(e){var t=e.notices,a=t.map((function(e){return e.notice.key})).indexOf(o),i=t.concat();return-1!==a?i.splice(a,1,{notice:r,holderCallback:n}):(s&&t.length>=s&&(r.key=i[0].notice.key,r.updateMark=T(),r.userPassKey=o,i.shift()),i.push({notice:r,holderCallback:n})),{notices:i}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,o=n.key;return(n.userPassKey||o)!==t}))}}))},e.noticePropsMap={},e}return(0,i.Z)(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,o=this.props.transitionName;return!o&&n&&(o="".concat(t,"-").concat(n)),o}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,o=n.prefixCls,s=n.className,i=n.closeIcon,c=n.style,l=[];return t.forEach((function(n,r){var s=n.notice,c=n.holderCallback,u=r===t.length-1?s.updateMark:void 0,p=s.key,d=s.userPassKey,f=(0,a.Z)((0,a.Z)((0,a.Z)({prefixCls:o,closeIcon:i},s),s.props),{},{key:p,noticeKey:d||p,updateMark:u,onClose:function(t){var n;e.remove(t),null===(n=s.onClose)||void 0===n||n.call(s)},onClick:s.onClick,children:s.content});l.push(p),e.noticePropsMap[p]={props:f,holderCallback:c}})),u.createElement("div",{className:f()(o,s),style:c},u.createElement(m.CSSMotionList,{keys:l,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var o=n.key;t||delete e.noticePropsMap[o]}},(function(t){var n=t.key,s=t.className,i=t.style,c=t.visible,l=e.noticePropsMap[n],p=l.props,d=l.holderCallback;return d?u.createElement("div",{key:n,className:f()(s,"".concat(o,"-hook-holder")),style:(0,a.Z)({},i),ref:function(t){void 0!==n&&(t?(e.hookRefs.set(n,t),d(t,p)):e.hookRefs.delete(n))}}):u.createElement(v.Z,(0,r.Z)({},p,{className:f()(s,null==p?void 0:p.className),style:(0,a.Z)((0,a.Z)({},i),null==p?void 0:p.style),visible:c}))})))}}]),n}(u.Component);b.newInstance=void 0,b.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},b.newInstance=function(e,t){var n=e||{},a=n.getContainer,s=(0,o.Z)(n,k),i=document.createElement("div");a?a().appendChild(i):document.body.appendChild(i);var c=!1;(0,p.s)(u.createElement(b,(0,r.Z)({},s,{ref:function(e){c||(c=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){(0,p.v)(i),i.parentNode&&i.parentNode.removeChild(i)},useNotification:function(){return(0,h.Z)(e)}}))}})),i)};const Z=b},1550:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(3433),r=n(7462),a=n(9439),s=n(7294),i=n(1784);function c(e){var t=s.useRef({}),n=s.useState([]),c=(0,a.Z)(n,2),l=c[0],u=c[1];return[function(n){var a=!0;e.add(n,(function(e,n){var c=n.key;if(e&&(!t.current[c]||a)){var l=s.createElement(i.Z,(0,r.Z)({},n,{holder:e}));t.current[c]=l,u((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat((0,o.Z)(e),[l]);var r=(0,o.Z)(e);return r[t]=l,r}))}a=!1}))},s.createElement(s.Fragment,null,l)]}},2502:(e,t,n)=>{var o=n(5263),r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(434)),s=r(n(8416)),i=r(n(6690)),c=r(n(9728)),l=r(n(1655)),u=r(n(6389)),p=o(n(7294)),d=r(n(3935)),f=r(n(4184)),m=function(e){(0,l.default)(n,e);var t=(0,u.default)(n);function n(){var e;(0,i.default)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,o=n.onClose,r=n.noticeKey;o&&o(r)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,c.default)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,o=t.className,r=t.closable,i=t.closeIcon,c=t.style,l=t.onClick,u=t.children,m=t.holder,v="".concat(n,"-notice"),h=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),k=p.createElement("div",(0,a.default)({className:(0,f.default)(v,o,(0,s.default)({},"".concat(v,"-closable"),r)),style:c,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:l},h),p.createElement("div",{className:"".concat(v,"-content")},u),r?p.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(v,"-close")},i||p.createElement("span",{className:"".concat(v,"-close-x")})):null);return m?d.default.createPortal(k,m):k}}]),n}(p.Component);t.default=m,m.defaultProps={onClose:function(){},duration:1.5}},5484:(e,t,n)=>{var o=n(5263),r=n(4836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=c.useRef({}),n=c.useState([]),o=(0,i.default)(n,2),r=o[0],u=o[1];return[function(n){var o=!0;e.add(n,(function(e,n){var r=n.key;if(e&&(!t.current[r]||o)){var i=c.createElement(l.default,(0,s.default)({},n,{holder:e}));t.current[r]=i,u((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat((0,a.default)(e),[i]);var o=(0,a.default)(e);return o[t]=i,o}))}o=!1}))},c.createElement(c.Fragment,null,r)]};var a=r(n(861)),s=r(n(434)),i=r(n(7424)),c=o(n(7294)),l=r(n(2502))}}]);